<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Local Minima and Maxima</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{ 
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://hci.iwr.uni-heidelberg.de/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.3.1 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Local Minima and Maxima
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1LocalMinmaxOptions.html">LocalMinmaxOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options object for <a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima()</a> and <a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima()</a>.  <a href="classvigra_1_1LocalMinmaxOptions.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacf065fa5d3b1f0e8b2b6eedc742e117a"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gacf065fa5d3b1f0e8b2b6eedc742e117a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a">extendedLocalMaxima</a> (...)</td></tr>
<tr class="memdesc:gacf065fa5d3b1f0e8b2b6eedc742e117a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local maximal regions in an array.  <a href="#gacf065fa5d3b1f0e8b2b6eedc742e117a">More...</a><br/></td></tr>
<tr class="separator:gacf065fa5d3b1f0e8b2b6eedc742e117a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0db91012c965e9950ae09ab25ec2c786"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga0db91012c965e9950ae09ab25ec2c786"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#ga0db91012c965e9950ae09ab25ec2c786">extendedLocalMaxima3D</a> (...)</td></tr>
<tr class="memdesc:ga0db91012c965e9950ae09ab25ec2c786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local maximal regions in 3D multi array.  <a href="#ga0db91012c965e9950ae09ab25ec2c786">More...</a><br/></td></tr>
<tr class="separator:ga0db91012c965e9950ae09ab25ec2c786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d85854a266cf6f5d4bff98b34e123fb"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga5d85854a266cf6f5d4bff98b34e123fb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb">extendedLocalMinima</a> (...)</td></tr>
<tr class="memdesc:ga5d85854a266cf6f5d4bff98b34e123fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local minimal regions (plateaus) in an array.  <a href="#ga5d85854a266cf6f5d4bff98b34e123fb">More...</a><br/></td></tr>
<tr class="separator:ga5d85854a266cf6f5d4bff98b34e123fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1280b5f8335ebdadbb45a1b8cf8e8f5"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gad1280b5f8335ebdadbb45a1b8cf8e8f5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#gad1280b5f8335ebdadbb45a1b8cf8e8f5">extendedLocalMinima3D</a> (...)</td></tr>
<tr class="memdesc:gad1280b5f8335ebdadbb45a1b8cf8e8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local minimal regions in a volume.  <a href="#gad1280b5f8335ebdadbb45a1b8cf8e8f5">More...</a><br/></td></tr>
<tr class="separator:gad1280b5f8335ebdadbb45a1b8cf8e8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00086937b5ac265fc74b5a8ee0c15c47"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga00086937b5ac265fc74b5a8ee0c15c47"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima</a> (...)</td></tr>
<tr class="memdesc:ga00086937b5ac265fc74b5a8ee0c15c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local maxima in an image or multi-dimensional array.  <a href="#ga00086937b5ac265fc74b5a8ee0c15c47">More...</a><br/></td></tr>
<tr class="separator:ga00086937b5ac265fc74b5a8ee0c15c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7d58b90367742c7d20d9b47b82129b6"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gaf7d58b90367742c7d20d9b47b82129b6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#gaf7d58b90367742c7d20d9b47b82129b6">localMaxima3D</a> (...)</td></tr>
<tr class="memdesc:gaf7d58b90367742c7d20d9b47b82129b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local maxima in a 3D multi array.  <a href="#gaf7d58b90367742c7d20d9b47b82129b6">More...</a><br/></td></tr>
<tr class="separator:gaf7d58b90367742c7d20d9b47b82129b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga527dfba5468e97ca7f1d676d34bc7162"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga527dfba5468e97ca7f1d676d34bc7162"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162">localMinima</a> (...)</td></tr>
<tr class="memdesc:ga527dfba5468e97ca7f1d676d34bc7162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local minima in an image or multi-dimensional array.  <a href="#ga527dfba5468e97ca7f1d676d34bc7162">More...</a><br/></td></tr>
<tr class="separator:ga527dfba5468e97ca7f1d676d34bc7162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac845c0bf489cfea8b5caabb8ac827609"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:gac845c0bf489cfea8b5caabb8ac827609"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__LocalMinMax.html#gac845c0bf489cfea8b5caabb8ac827609">localMinima3D</a> (...)</td></tr>
<tr class="memdesc:gac845c0bf489cfea8b5caabb8ac827609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find local minima in a 3D multi array.  <a href="#gac845c0bf489cfea8b5caabb8ac827609">More...</a><br/></td></tr>
<tr class="separator:gac845c0bf489cfea8b5caabb8ac827609"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<p>Detect local minima and maxima in a gray level image, including extremal plateaus larger than 1 pixel </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga527dfba5468e97ca7f1d676d34bc7162"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::localMinima </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local minima in an image or multi-dimensional array. </p>
<p>By default, minima are defined as points which are not at the array border and whose value is lower than the value of all indirect neighbors (i.e. 8-neighbors in 2D, 26-neighbors in 3D, 3<sup>N</sup>-1 neighbors in N-D). The detected points will be marked with the default value 1 in the destination array.</p>
<p>The defaults can be overridden in various ways by providing <a class="el" href="classvigra_1_1LocalMinmaxOptions.html">LocalMinmaxOptions</a> : you can switch to the direct neighborhood (i.e. 4-neighborhood in 2D, 6-neighborhood in 3D, 2*N neighborhood in N-D), allow minima at the border, discard minima where the function value is not below a given threshold, allow extended minima (i.e. minima that form minimal plateaus rather than isolated pixels &ndash; note that this option is only supported for 2D images), and change the marker in the destination image. See usage examples below for details.</p>
<p>There are also variants of the <a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima()</a> function where parameters are passed explicitly rather than via an option object. These versions of the function are deprecated, but will be kept for compatibility.</p>
<p><b> Declarations:</b></p>
<p>use arbitrary-dimensional arrays: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class</span> T1, <span class="keyword">class</span> C1, <span class="keyword">class</span> T2, <span class="keyword">class</span> C2&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(MultiArrayView&lt;N, T1, C1&gt; src,</div>
<div class="line">                MultiArrayView&lt;N, T2, C2&gt; dest,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="localMinima_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;localMinima_OldAPI&apos;, &apos;localMinima_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="localMinima_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">                DestIterator dul, DestAccessor da,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="localminmax_8hxx_source.html">vigra/localminmax.hxx</a>&gt;<br/>
 <b>#include</b> &lt;<a class="el" href="multi__localminmax_8hxx_source.html">vigra/multi_localminmax.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line"><span class="comment">// 3D examples (other dimensions work likewise)</span></div>
<div class="line"><a class="code" href="group__MultiIteratorGroup.html#gac70cfe6730d928789a2b3ce1f37ae379" title="shape type for MultiArray&lt;3, T&gt;">Shape3</a> shape(w,h,d);</div>
<div class="line">MultiArray&lt;3, unsigned char&gt; src(shape), minima(shape);</div>
<div class="line">... <span class="comment">// fill src</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// use default parameterisation</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(src, minima);</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">minima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// use direct neighborhood (i.e. 6-neighborhood since we are in 3D) </span></div>
<div class="line"><span class="comment">// and allow minima at the image border</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(src, minima,</div>
<div class="line">            LocalMinmaxOptions().neighborhood(0).allowAtBorder());</div>
</div><!-- fragment --><p><a href="#" id="localMinima_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;localMinima_OldUsage&apos;, &apos;localMinima_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="localMinima_OldUsage" style="display:none"> <div class="fragment"><div class="line"><span class="comment">// 2D examples using BasicImage</span></div>
<div class="line"><a class="code" href="group__StandardImageTypes.html#gaf7e342087f23fa1b4651510fbe2fde90">BImage</a> src(w,h), minima(w,h);</div>
<div class="line">... <span class="comment">// fill src</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// use default parameterisation</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(srcImageRange(src), destImage(minima));</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">minima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// use 4-neighborhood and allow minima at the image border</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(srcImageRange(src), destImage(minima),</div>
<div class="line">                   LocalMinmaxOptions().neighborhood(4).allowAtBorder());</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">minima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow extended minima (minimal plateaus) and use value &#39;255&#39; as a marker</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(srcImageRange(src), destImage(minima),</div>
<div class="line">                   LocalMinmaxOptions().allowPlateaus().markWith(255));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcIterator src_upperleft, src_lowerright;</div>
<div class="line">DestIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">u &lt; u</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gac845c0bf489cfea8b5caabb8ac827609"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::localMinima3D </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local minima in a 3D multi array. </p>
<p>Deprecated, use <a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima()</a> instead. </p>

</div>
</div>
<a class="anchor" id="ga00086937b5ac265fc74b5a8ee0c15c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::localMaxima </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local maxima in an image or multi-dimensional array. </p>
<p>By default, maxima are defined as points which are not at the array border and whose value is higher than the value of all indirect neighbors (i.e. 8-neighbors in 2D, 26-neighbors in 3D, 3<sup>N</sup>-1 neighbors in N-D). The detected points will be marked with the default value 1 in the destination array.</p>
<p>The defaults can be overridden in various ways by providing <a class="el" href="classvigra_1_1LocalMinmaxOptions.html">LocalMinmaxOptions</a> : you can switch to the direct neighborhood (i.e. 4-neighborhood in 2D, 6-neighborhood in 3D, 2*N neighborhood in N-D), allow maxima at the border, discard maxima where the function value is not above a given threshold, allow extended maxima (i.e. maxima that form maximal plateaus rather than isolated pixels &ndash; note that this option is only supported for 2D images), and change the marker in the destination image. See usage examples below for details.</p>
<p>There are also variants of the <a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima()</a> function where parameters are passed explicitly rather than via an option object. These versions of the function are deprecated, but will be kept for compatibility.</p>
<p><b> Declarations:</b></p>
<p>use arbitrary-dimensional arrays: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class</span> T1, <span class="keyword">class</span> C1, <span class="keyword">class</span> T2, <span class="keyword">class</span> C2&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(MultiArrayView&lt;N, T1, C1&gt; src,</div>
<div class="line">                MultiArrayView&lt;N, T2, C2&gt; dest,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --><p><a href="#" id="localMaxima_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;localMaxima_OldAPI&apos;, &apos;localMaxima_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="localMaxima_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">                DestIterator dul, DestAccessor da,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                LocalMinmaxOptions <span class="keyword">const</span> &amp; options = LocalMinmaxOptions());</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="localminmax_8hxx_source.html">vigra/localminmax.hxx</a>&gt;<br/>
 <b>#include</b> &lt;<a class="el" href="multi__localminmax_8hxx_source.html">vigra/multi_localminmax.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line"><span class="comment">// 3D examples (other dimensions work likewise)</span></div>
<div class="line"><a class="code" href="group__MultiIteratorGroup.html#gac70cfe6730d928789a2b3ce1f37ae379" title="shape type for MultiArray&lt;3, T&gt;">Shape3</a> shape(w,h,d);</div>
<div class="line">MultiArray&lt;3, unsigned char&gt; src(shape), maxima(shape);</div>
<div class="line">... <span class="comment">// fill src</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// use default parameterisation</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(src, maxima);</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">maxima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// use direct neighborhood (i.e. 6-neighborhood sine we are in 3D)</span></div>
<div class="line"><span class="comment">// and allow maxima at the image border</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(src, maxima,</div>
<div class="line">            LocalMinmaxOptions().neighborhood(0).allowAtBorder());</div>
</div><!-- fragment --><p><a href="#" id="localMaxima_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;localMaxima_OldUsage&apos;, &apos;localMaxima_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="localMaxima_OldUsage" style="display:none"> <div class="fragment"><div class="line"><span class="comment">// 2D examples using BasicImage</span></div>
<div class="line"><a class="code" href="group__StandardImageTypes.html#gaf7e342087f23fa1b4651510fbe2fde90">BImage</a> src(w,h), maxima(w,h);</div>
<div class="line">... <span class="comment">// fill src</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// use default parameterisation</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(srcImageRange(src), destImage(maxima));</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">maxima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// use 4-neighborhood and allow maxima at the image border</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(srcImageRange(src), destImage(maxima),</div>
<div class="line">                   LocalMinmaxOptions().neighborhood(4).allowAtBorder());</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset destination image</span></div>
<div class="line">maxima = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow extended maxima (maximal plateaus) and use value &#39;255&#39; as a marker</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(srcImageRange(src), destImage(maxima),</div>
<div class="line">                   LocalMinmaxOptions().allowPlateaus().markWith(255));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcIterator src_upperleft, src_lowerright;</div>
<div class="line">DestIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">u &lt; u</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gaf7d58b90367742c7d20d9b47b82129b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::localMaxima3D </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local maxima in a 3D multi array. </p>
<p>Deprecated, use <a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima()</a> instead. </p>

</div>
</div>
<a class="anchor" id="ga5d85854a266cf6f5d4bff98b34e123fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::extendedLocalMinima </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local minimal regions (plateaus) in an array. </p>
<p>This function is only needed when you want to pass a non-standard equality predicate via <code>EqualityFunctor</code>. Otherwise (i.e. when equality is defined by the '==' operator of the source value type <code>T1</code>), you can simply call <a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162">localMinima()</a> with the option <code><a class="el" href="classvigra_1_1LocalMinmaxOptions.html#a20aac0b1074b4d78f771c85da0a5eb8b" title="Allow extremal plateaus.">LocalMinmaxOptions::allowPlateaus()</a></code>.</p>
<p>This function finds regions of uniform pixel values whose neighboring regions all have larger values, i.e. it finds minimal plateaus of arbitrary size (including size 1). The <code>EqualityFunctor</code> determines when pixels are considered equal, so that one can allow for plateaus that are not quite constant (this is often necessary with float pixel values). Otherwise, the functionality is identical to <a class="el" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162">localMinima()</a>.</p>
<p><b> Declarations:</b></p>
<p>use arbitrary-dimensional arrays: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">                              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2,</div>
<div class="line">              <span class="keyword">class </span>EqualityFunctor&gt;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(MultiArrayView&lt;N, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                        MultiArrayView&lt;N, T2, S2&gt; dest,</div>
<div class="line">                        EqualityFunctor <span class="keyword">const</span> &amp; equal,</div>
<div class="line">                        LocalMinmaxOptions options = LocalMinmaxOptions());</div>
</div><!-- fragment --><p><a href="#" id="extendedLocalMinima_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;extendedLocalMinima_OldAPI&apos;, &apos;extendedLocalMinima_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="extendedLocalMinima_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestValue = DestAccessor::value_type,</div>
<div class="line">              <span class="keyword">class </span>Neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>,</div>
<div class="line">              <span class="keyword">class </span>EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">                        DestIterator dul, DestAccessor da,</div>
<div class="line">                        DestValue marker = NumericTraits&lt;DestValue&gt;::one(),</div>
<div class="line">                        Neighborhood neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>(),</div>
<div class="line">                        EqualityFunctor equal = EqualityFunctor());</div>
<div class="line">                        </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcShape, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">             <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">             <span class="keyword">class </span>Neighborhood = <a class="code" href="group__VoxelNeighborhood.html#gaae23891fb489f969e6deff00b8d76b8a">NeighborCode3DSix</a>,</div>
<div class="line">             <span class="keyword">class </span>EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#gad1280b5f8335ebdadbb45a1b8cf8e8f5" title="Find local minimal regions in a volume.">extendedLocalMinima3D</a>(SrcIterator sul, SrcShape slr, SrcAccessor sa,</div>
<div class="line">                          DestIterator dul, DestAccessor da,</div>
<div class="line">                          <span class="keyword">typename</span> DestAccessor::value_type marker,</div>
<div class="line">                          Neighborhood neighborhood = Neighborhood(),</div>
<div class="line">                          EqualityFunctor equal = EqualityFunctor());</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestValue = DestAccessor::value_type,</div>
<div class="line">              <span class="keyword">class </span>Neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>,</div>
<div class="line">              <span class="keyword">class </span>EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                        pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                        DestValue marker = NumericTraits&lt;DestValue&gt;::one(),</div>
<div class="line">                        Neighborhood neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>(),</div>
<div class="line">                        EqualityFunctor equal = EqualityFunctor());</div>
<div class="line">                        </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor, <span class="keyword">class </span>SrcShape,</div>
<div class="line">             <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor, </div>
<div class="line">             <span class="keyword">class </span>Neighborhood&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#gad1280b5f8335ebdadbb45a1b8cf8e8f5" title="Find local minimal regions in a volume.">extendedLocalMinima3D</a>(triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,</div>
<div class="line">                          pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                          <span class="keyword">typename</span> DestAccessor::value_type marker,</div>
<div class="line">                          Neighborhood neighborhood);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="localminmax_8hxx_source.html">vigra/localminmax.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line"><span class="comment">// define an equality functor</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>EqualWithToleranceFunctor</div>
<div class="line">{</div>
<div class="line">    EqualWithToleranceFunctor(T tolerance)</div>
<div class="line">    : t(tolerance)</div>
<div class="line">    {}</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> operator()(T l, T r)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__FFTWComplexOperators.html#ga6f4ef274842b6153923f02a6cd264576" title="absolute value (= magnitude)">abs</a>(l-r) &lt;= t;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    T t;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), minima(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow plateaus</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga527dfba5468e97ca7f1d676d34bc7162" title="Find local minima in an image or multi-dimensional array.">localMinima</a>(src, minima, LocalMinmaxOptions().allowPlateaus());</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset result image</span></div>
<div class="line">minima.init(0);</div>
<div class="line"><span class="comment">// allow plateaus with tolerance (grayvalues may differ by one)</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(src, minima, EqualWithToleranceFunctor&lt;unsigned char&gt;(1));</div>
</div><!-- fragment --><p><a href="#" id="extendedLocalMinima_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;extendedLocalMinima_OldUsage&apos;, &apos;extendedLocalMinima_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="extendedLocalMinima_OldUsage" style="display:none"> <div class="fragment"><div class="line"><span class="comment">// optional: define an equality functor</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>EqualWithToleranceFunctor</div>
<div class="line">{</div>
<div class="line">    EqualWithToleranceFunctor(T tolerance)</div>
<div class="line">    : t(tolerance)</div>
<div class="line">    {}</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> operator()(T l, T r)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__FFTWComplexOperators.html#ga6f4ef274842b6153923f02a6cd264576" title="absolute value (= magnitude)">abs</a>(l-r) &lt;= t;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    T t;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__StandardImageTypes.html#gaf7e342087f23fa1b4651510fbe2fde90">BImage</a> src(w,h), minima(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// init destiniation image</span></div>
<div class="line">minima.init(0);</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(srcImageRange(src), destImage(minima));</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow plateaus with tolerance</span></div>
<div class="line">minima.init(0);</div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb" title="Find local minimal regions (plateaus) in an array.">extendedLocalMinima</a>(srcImageRange(src), destImage(minima), 1.0,</div>
<div class="line">                           <a class="code" href="group__PixelNeighborhood.html#ga58cb45fb133eb7c1d63fd14f65b8320f">FourNeighborCode</a>(),</div>
<div class="line">                           EqualWithToleranceFunctor&lt;unsigned char&gt;(1));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">EqualityFunctor equal;</div>
<div class="line">u == u</div>
<div class="line">equal(u, u);</div>
<div class="line">u &lt; u</div>
<div class="line"></div>
<div class="line">DestValue marker;</div>
<div class="line">dest_accessor.set(marker, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="gad1280b5f8335ebdadbb45a1b8cf8e8f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::extendedLocalMinima3D </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local minimal regions in a volume. </p>
<p>See <a class="el" href="group__LocalMinMax.html#ga5d85854a266cf6f5d4bff98b34e123fb">extendedLocalMinima()</a>. </p>

</div>
</div>
<a class="anchor" id="gacf065fa5d3b1f0e8b2b6eedc742e117a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::extendedLocalMaxima </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local maximal regions in an array. </p>
<p>This function is only needed when you want to pass a non-standard equality predicate via <code>EqualityFunctor</code>. Otherwise (i.e. when equality is defined by the '==' operator of the source value type <code>T1</code>), you can simply call <a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima()</a> with the option <code><a class="el" href="classvigra_1_1LocalMinmaxOptions.html#a20aac0b1074b4d78f771c85da0a5eb8b" title="Allow extremal plateaus.">LocalMinmaxOptions::allowPlateaus()</a></code>.</p>
<p>This function finds regions of uniform pixel values whose neighboring regions all have smaller values, i.e. it finds maximal plateaus of arbitrary size (including size 1). The <code>EqualityFunctor</code> determines when pixels are considered equal, so that one can allow for plateaus that are not quite constant (this is often necessary with float pixel values). Otherwise, the functionality is identical to <a class="el" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47">localMaxima()</a>.</p>
<p><b> Declarations:</b></p>
<p>use arbitrary-dimensional arrays: </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class </span>T1, <span class="keyword">class </span>S1,</div>
<div class="line">                              <span class="keyword">class </span>T2, <span class="keyword">class </span>S2&gt;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="comment">// return number of maxima</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(MultiArrayView&lt;N, T1, S1&gt; <span class="keyword">const</span> &amp; src,</div>
<div class="line">                        MultiArrayView&lt;N, T2, S2&gt; dest,</div>
<div class="line">                        LocalMinmaxOptions options = LocalMinmaxOptions());</div>
</div><!-- fragment --><p><a href="#" id="extendedLocalMaxima_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;extendedLocalMaxima_OldAPI&apos;, &apos;extendedLocalMaxima_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="extendedLocalMaxima_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestValue = DestAccessor::value_type,</div>
<div class="line">              <span class="keyword">class </span>Neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>,</div>
<div class="line">              <span class="keyword">class </span>EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(SrcIterator sul, SrcIterator slr, SrcAccessor sa,</div>
<div class="line">                        DestIterator dul, DestAccessor da,</div>
<div class="line">                        DestValue marker = NumericTraits&lt;DestValue&gt;::one(),</div>
<div class="line">                        Neighborhood neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>(),</div>
<div class="line">                        EqualityFunctor equal = EqualityFunctor())</div>
<div class="line">                        </div>
<div class="line">    template&lt;class SrcIterator, class SrcShape, class SrcAccessor,</div>
<div class="line">             class DestIterator, class DestAccessor,</div>
<div class="line">             class Neighborhood = <a class="code" href="group__VoxelNeighborhood.html#gaae23891fb489f969e6deff00b8d76b8a">NeighborCode3DSix</a>,</div>
<div class="line">             class EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga0db91012c965e9950ae09ab25ec2c786" title="Find local maximal regions in 3D multi array.">extendedLocalMaxima3D</a>(SrcIterator sul, SrcShape slr, SrcAccessor sa,</div>
<div class="line">                          DestIterator dul, DestAccessor da,</div>
<div class="line">                          typename DestAccessor::value_type marker,</div>
<div class="line">                          Neighborhood neighborhood = Neighborhood(),</div>
<div class="line">                          EqualityFunctor equal = EqualityFunctor());</div>
<div class="line">}</div>
</div><!-- fragment --><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,</div>
<div class="line">              <span class="keyword">class </span>DestValue = DestAccessor::value_type,</div>
<div class="line">              <span class="keyword">class </span>Neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>,</div>
<div class="line">              <span class="keyword">class </span>EqualityFunctor = std::equal_to&lt;typename SrcAssessor::value_type&gt; &gt;</div>
<div class="line">    <span class="keywordtype">void</span></div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,</div>
<div class="line">                        pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                        DestValue marker = NumericTraits&lt;DestValue&gt;::one(),</div>
<div class="line">                        Neighborhood neighborhood = <a class="code" href="group__PixelNeighborhood.html#ga04897760f5b7969c9811a3c258f5981d">EightNeighborCode</a>(),</div>
<div class="line">                        EqualityFunctor equal = EqualityFunctor())</div>
<div class="line">                        </div>
<div class="line">    template&lt;class SrcIterator, class SrcAccessor, class SrcShape,</div>
<div class="line">             class DestIterator, class DestAccessor, </div>
<div class="line">             class Neighborhood&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__LocalMinMax.html#ga0db91012c965e9950ae09ab25ec2c786" title="Find local maximal regions in 3D multi array.">extendedLocalMaxima3D</a>(triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,</div>
<div class="line">                          pair&lt;DestIterator, DestAccessor&gt; dest,</div>
<div class="line">                          typename DestAccessor::value_type marker,</div>
<div class="line">                          Neighborhood neighborhood);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="localminmax_8hxx_source.html">vigra/localminmax.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line"><span class="comment">// define an equality functor</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>EqualWithToleranceFunctor</div>
<div class="line">{</div>
<div class="line">    EqualWithToleranceFunctor(T tolerance)</div>
<div class="line">    : t(tolerance)</div>
<div class="line">    {}</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> operator()(T l, T r)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__FFTWComplexOperators.html#ga6f4ef274842b6153923f02a6cd264576" title="absolute value (= magnitude)">abs</a>(l-r) &lt;= t;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    T t;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">MultiArray&lt;2, unsigned char&gt; src(w,h), maxima(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow plateaus</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#ga00086937b5ac265fc74b5a8ee0c15c47" title="Find local maxima in an image or multi-dimensional array.">localMaxima</a>(src, maxima, LocalMinmaxOptions().allowPlateaus());</div>
<div class="line"></div>
<div class="line"><span class="comment">// reset result image</span></div>
<div class="line">maxima.init(0);</div>
<div class="line"><span class="comment">// allow plateaus with tolerance (grayvalues may differ by one)</span></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(src, maxima, EqualWithToleranceFunctor&lt;unsigned char&gt;(1));</div>
</div><!-- fragment --><p><a href="#" id="extendedLocalMaxima_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;extendedLocalMaxima_OldUsage&apos;, &apos;extendedLocalMaxima_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="extendedLocalMaxima_OldUsage" style="display:none"> <div class="fragment"><div class="line"><span class="comment">// optional: define an equality functor</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>EqualWithToleranceFunctor</div>
<div class="line">{</div>
<div class="line">    EqualWithToleranceFunctor(T tolerance)</div>
<div class="line">    : t(tolerance)</div>
<div class="line">    {}</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> operator()(T l, T r)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__FFTWComplexOperators.html#ga6f4ef274842b6153923f02a6cd264576" title="absolute value (= magnitude)">abs</a>(l-r) &lt;= t;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    T t;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__StandardImageTypes.html#gaf7e342087f23fa1b4651510fbe2fde90">BImage</a> src(w,h), maxima(w,h);</div>
<div class="line"></div>
<div class="line"><span class="comment">// init destiniation image</span></div>
<div class="line">maxima.init(0);</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(srcImageRange(src), destImage(maxima));</div>
<div class="line"></div>
<div class="line"><span class="comment">// allow plateaus with tolerance</span></div>
<div class="line">maxima.init(0);</div>
<div class="line"><a class="code" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a" title="Find local maximal regions in an array.">extendedLocalMaxima</a>(srcImageRange(src), destImage(maxima), 1.0,</div>
<div class="line">                           <a class="code" href="group__PixelNeighborhood.html#ga58cb45fb133eb7c1d63fd14f65b8320f">FourNeighborCode</a>(),</div>
<div class="line">                           EqualWithToleranceFunctor&lt;unsigned char&gt;(1));</div>
</div><!-- fragment --><p> <b> Required Interface:</b> </p>
<div class="fragment"><div class="line">SrcImageIterator src_upperleft, src_lowerright;</div>
<div class="line">DestImageIterator dest_upperleft;</div>
<div class="line"></div>
<div class="line">SrcAccessor src_accessor;</div>
<div class="line">DestAccessor dest_accessor;</div>
<div class="line"></div>
<div class="line">SrcAccessor::value_type u = src_accessor(src_upperleft);</div>
<div class="line"></div>
<div class="line">EqualityFunctor equal;</div>
<div class="line">u == u</div>
<div class="line">equal(u, u);</div>
<div class="line">u &lt; u</div>
<div class="line"></div>
<div class="line">DestValue marker;</div>
<div class="line">dest_accessor.set(marker, dest_upperleft);</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ga0db91012c965e9950ae09ab25ec2c786"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::extendedLocalMaxima3D </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find local maximal regions in 3D multi array. </p>
<p>See <a class="el" href="group__LocalMinMax.html#gacf065fa5d3b1f0e8b2b6eedc742e117a">extendedLocalMaxima()</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.10.0 (Mon Nov 18 2013)
</i>
</tr>
</table>
</BODY>
</HTML>
